var S=Object.defineProperty;var A=(n,t,s)=>t in n?S(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var u=(n,t,s)=>A(n,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const e of i)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const e={};return i.integrity&&(e.integrity=i.integrity),i.referrerPolicy&&(e.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?e.credentials="include":i.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function l(i){if(i.ep)return;i.ep=!0;const e=s(i);fetch(i.href,e)}})();const b=(n,t,s,l,i,e)=>{const o=t.split(" ");let r="",d=[];for(let h=0;h<o.length;h++){const m=r+o[h]+" ";n.measureText(m).width>i&&h>0?(d.push(r),r=o[h]+" "):r=m}d.push(r);for(let h=0;h<d.length;h++)n.fillText(d[h],s,l+h*e)},D=(n,t,s)=>{let l=16;const i=s.width-20,e=l*1.2;let o=`Output: ${t.join(" ")}`;for(n.font=`${l}px Verdana`,n.fillStyle="white",n.textAlign="left";n.measureText(o).width>i&&l>15;)l-=1,n.font=`${l}px Verdana`;b(n,o,10,20,i,e)},a=class a{constructor(t,s=0,l=0){this.value=t.length,t.push(this),this.left=null,this.right=null,this.position={x:s,y:l},this.active=!1,this.opacity=0,this.lineOpacity=0,this.lineLength=0,this.textColour=a.TEXT_COLOR}setLeft(t){this.left=t}setRight(t){this.right=t}draw(t,s,l,i,e=20){const o=this.position.x*s+i,r=this.position.y*l+i;this.drawLinesToChildren(t,o,r,s,l,i,e),this.drawNode(t,o,r,e),this.drawValue(t,o,r)}drawLinesToChildren(t,s,l,i,e,o,r){t.strokeStyle=`rgba(255, 255, 255, ${this.lineOpacity})`,t.lineWidth=1,this.left&&this.drawLineToChild(t,s,l,this.left,i,e,o,r,Math.PI),this.right&&this.drawLineToChild(t,s,l,this.right,i,e,o,r,0)}drawLineToChild(t,s,l,i,e,o,r,d,h){const m=i.position.x*e+r,I=i.position.y*o+r,f=this.calculateLineStart(s,l,d,h),N=this.calculateLineEnd(s,l,m,I,d);t.beginPath(),t.moveTo(f.x,f.y),t.lineTo(f.x+(N.x-f.x)*this.lineLength,f.y+(N.y-f.y)*this.lineLength),t.stroke()}calculateLineStart(t,s,l,i){return{x:t+Math.cos(i)*l,y:s+Math.sin(i)*l}}calculateLineEnd(t,s,l,i,e){const o=Math.atan2(i-s,l-t);return{x:l-Math.cos(o)*e,y:i-Math.sin(o)*e}}drawNode(t,s,l,i){t.save(),this.active&&(t.shadowColor=a.GLOW_COLOR,t.shadowBlur=a.GLOW_BLUR),t.beginPath(),t.arc(s,l,i,0,2*Math.PI),t.fillStyle=`rgba(197, 158, 96, ${this.opacity})`,t.fill(),t.strokeStyle=`rgba(255, 255, 255, ${this.lineOpacity})`,t.lineWidth=2,t.stroke(),t.restore()}drawValue(t,s,l){t.fillStyle=this.textColour,t.font=`${a.FONT_SIZE} ${a.FONT_FAMILY}`,t.textAlign="center",t.textBaseline="middle",t.fillText(this.value.toString(),s,l)}update(){this.updateLineLength(),this.updateLineOpacity(),this.updateNodeOpacity()}updateLineLength(){this.lineLength<1&&(this.lineLength=Math.min(1,this.lineLength+a.LINE_LENGTH_INCREMENT))}updateLineOpacity(){this.lineOpacity<1&&(this.lineOpacity=Math.min(1,this.lineOpacity+a.LINE_OPACITY_INCREMENT))}updateNodeOpacity(){this.active?this.opacity=Math.min(1,this.opacity+a.NODE_OPACITY_INCREMENT):this.opacity=Math.max(0,this.opacity-a.NODE_OPACITY_INCREMENT)}};u(a,"LINE_OPACITY_INCREMENT",.05),u(a,"NODE_OPACITY_INCREMENT",.05),u(a,"LINE_LENGTH_INCREMENT",.02),u(a,"FONT_SIZE","16px"),u(a,"FONT_FAMILY","Courier"),u(a,"TEXT_COLOR","white"),u(a,"GLOW_COLOR","#c59f60"),u(a,"GLOW_BLUR",20);let g=a;const P=(n,t,s,l)=>{t(!0),s.length=0;const i=[];let e=n;const o=()=>{for(;e;)i.push(e),e=e.left;if(i.length===0){t(!1);return}e=i.pop(),e.active=!0,s.push(e.value),setTimeout(()=>{e.active=!1,e=e.right,o()},l)};o()},$=(n,t,s,l)=>{t(!0),s.length=0;const i=[];let e=n;const o=()=>{if(!e){t(!1);return}i.push(e),e.active=!0,s.push(e.value),setTimeout(()=>{if(e.active=!1,e.left)e=e.left;else if(e.right)e=e.right;else{for(;i.length>0&&(!i[i.length-1].right||i[i.length-1].right===e);)e=i.pop();e=i.length>0?i[i.length-1].right:null}o()},l)};o()},F=(n,t,s,l)=>{t(!0),s.length=0;const i=[];let e=n,o=null;const r=()=>{for(;e||i.length>0;){for(;e;)i.push(e),e=e.left;if(e=i[i.length-1],!e.right||e.right===o){e.active=!0,s.push(e.value),setTimeout(()=>{e.active=!1,o=i.pop(),e=null,r()},l);return}else e=e.right}t(!1)};r()},W=(n,t,s,l)=>{t(!0),s.length=0;const i=[n];let e=0;const o=()=>{if(e>=i.length){t(!1);return}const r=i[e];r.active=!0,s.push(r.value),setTimeout(()=>{r.active=!1,r.left&&i.push(r.left),r.right&&i.push(r.right),e++,o()},l)};o()},c={depth:2,maxDepth:4,minDepth:1,padding:0,radius:20,animationDelay:550},v=document.getElementById("tree-container"),p=document.createElement("canvas");v.appendChild(p);p.classList.add("w-full","h-full");const O=p.getContext("2d"),k=document.getElementById("pre-traverse"),q=document.getElementById("in-traverse"),G=document.getElementById("post-traverse"),Y=document.getElementById("level-traverse"),_=document.querySelectorAll(".add-depth"),x=document.querySelectorAll(".subtract-depth"),z=document.querySelectorAll(".depth-counter");let L=[],M=null,R=!1;const E=[],w=n=>{R=n},C=()=>{const n=v.getBoundingClientRect(),t=window.devicePixelRatio||1;p.width=n.width*t,p.height=n.height*t,p.style.width=`${n.width}px`,p.style.height=`${n.height}px`,O.scale(t,t)},V=n=>{w(!1),E.length=0;const t=new g(L,.5,.08),s=[{node:t,level:0}],l=1/(n+.9),i=()=>{if(s.length===0)return;const{node:e,level:o}=s.shift();if(o>=n)return;const r=1/Math.pow(2,o+1)/2,d=new g(L,e.position.x-r,e.position.y+l),h=new g(L,e.position.x+r,e.position.y+l);e.setLeft(d),e.setRight(h),s.push({node:d,level:o+1}),s.push({node:h,level:o+1}),i()};return i(),t},B=()=>{const n=v.getBoundingClientRect();O.clearRect(0,0,n.width,n.height),L.forEach(t=>{t.draw(O,n.width,n.height,c.padding,Math.min(n.width,n.height)/40),t.update()}),D(O,E,p),requestAnimationFrame(B)},T=n=>{L=[],M=V(n),z.forEach(t=>{console.log(t),t.textContent=n}),C(),w(!1)},y=n=>{R||n(M,w,E,c.animationDelay)};k.addEventListener("click",()=>y($));q.addEventListener("click",()=>y(P));G.addEventListener("click",()=>y(F));Y.addEventListener("click",()=>y(W));_.forEach(n=>{n.addEventListener("click",()=>{c.depth<c.maxDepth&&(c.depth+=1,T(c.depth))})});x.forEach(n=>{n.addEventListener("click",()=>{c.depth>c.minDepth&&(c.depth-=1,T(c.depth))})});window.addEventListener("resize",C);C();T(c.depth);B();
